(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{187:function(e,t,a){e.exports=a(423)},423:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(10),l=a.n(r),s=a(15),c=a(16),i=a(18),u=a(17),m=a(19),d=(a(63),a(28)),p=(a(195),a(184)),h=(a(64),a(42)),f=(a(76),a(9)),g=(a(127),a(48)),v=a(429),E=a(25),y=a.n(E),w=g.a.Item,b=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={Username:"",Password:""},a.handleGetUsername=function(e){a.setState({Username:e.target.value})},a.handleGetPassword=function(e){a.setState({Password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||y()({url:"http://35.243.234.68:8000/login",method:"post",data:{email:a.state.Username,password:a.state.Password},transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){a.props.history.push("/index")}).catch(function(e){console.log(e)})})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement(g.a,{id:"login-form",onSubmit:this.handleSubmit,className:"login-form",style:{width:"60%",marginLeft:"20%",marginTop:"20%",marginBottom:"20%"}},o.a.createElement(w,null,e("userName",{rules:[{required:!0,message:"Please input your username!"}]})(o.a.createElement(h.a,{prefix:o.a.createElement(f.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",type:"text",onChange:this.handleGetUsername}))),o.a.createElement(w,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(o.a.createElement(h.a,{prefix:o.a.createElement(f.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",onChange:this.handleGetPassword}))),o.a.createElement(w,null,e("remember",{valuePropName:"checked",initialValue:!0})(o.a.createElement(p.a,{style:{float:"left"}},"Remember me")),o.a.createElement("a",{className:"login-form-forgot",href:"",style:{float:"right"}},"Forgot password?"),o.a.createElement("div",null,o.a.createElement(d.a,{id:"login-btn",onClick:this.handleSubmit,type:"primary",htmlType:"submit",className:"login-form-button",style:{width:"100%"}},"Log in")),"Or",o.a.createElement(v.a,{to:"/register",id:"reg-link"}," register now!")))}}]),t}(o.a.Component),C=g.a.create()(b),O=g.a.Item,k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={confirmDirty:!1,autoCompleteResult:[],Email:"",Password:"",confirmPassword:""},a.handleGetEmail=function(e){a.setState({Email:e.target.value})},a.handleGetPassword=function(e){a.setState({Password:e.target.value})},a.handleGetConfirmed=function(e){a.setState({confirmPassword:e.target.value})},a.handleRegister=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e?console.log(e.message):y()({url:"http://35.243.234.68:8000/register",method:"post",data:{email:a.state.Email,password:a.state.Password},transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){a.props.history.push("/")}).catch(function(e){console.log(e)})})},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var o=a.props.form;t&&t!==o.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var o=a.props.form;t&&a.state.confirmDirty&&o.validateFields(["confirm"],{force:!0}),n()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return o.a.createElement(g.a,{id:"reg-form",onSubmit:this.handleRegister,style:{width:"60%",marginLeft:"18%",marginTop:"20%",marginBottom:"20%"}},o.a.createElement(O,Object.assign({},t,{label:"E-mail"}),e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(o.a.createElement(h.a,{onChange:this.handleGetEmail}))),o.a.createElement(O,Object.assign({},t,{label:"Password"}),e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(o.a.createElement(h.a,{type:"password",onChange:this.handleGetPassword}))),o.a.createElement(O,Object.assign({},t,{label:"Confirm Password"}),e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(o.a.createElement(h.a,{type:"password",onBlur:this.handleConfirmBlur,onChange:this.handleGetConfirmed}))),o.a.createElement(O,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},o.a.createElement(d.a,{id:"reg-btn",type:"primary",htmlType:"submit"},"Register"),o.a.createElement(v.a,{to:"/login"}," Go back to login!")))}}]),t}(o.a.Component),j=g.a.create()(k),x=a(428),P=a(430),S=a(426),I=(a(331),a(50)),R=(a(336),a(56)),U=(a(339),a(183)),T=(a(425),a(182)),D=(a(424),a(126)),L=(a(427),a(125)),q=window.require("electron").ipcRenderer,N=L.a.Meta,F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={color:"#000000"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onChangeColor",value:function(e){"#000000"===e?this.setState({color:"#eb2f96"}):this.setState({color:"#000000"}),console.log("rrrr")}},{key:"handleLike",value:function(e){y()({url:"http://35.243.234.68:8000/addLike",method:"post",data:{wid:e},transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log("success")}).catch(function(e){console.log(e)})}},{key:"handleCollect",value:function(e){y()({url:"http://35.243.234.68:8000/addCollect",method:"post",data:{wid:e},transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log("success")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e,t,a=this,n=this.props.item,r=this.props.id;console.log("item"+n);var l,s;return n.hasOwnProperty("_doc")?(e=n._doc.url,t=n._doc.likes,l=n._doc.collects,s=n._doc._id):n.hasOwnProperty("urls")?e=n.urls.full:n.hasOwnProperty("url")&&(e=n.url,t=n.likes,l=n.collects,s=n._id),o.a.createElement("div",{id:"pic_"+r,name:s},o.a.createElement(L.a,{style:{width:300},cover:o.a.createElement("img",{alt:"example",src:e,widht:"300",height:"180"}),actions:[o.a.createElement(f.a,{type:"heart",id:"like_"+r,onClick:function(){return a.handleLike(s)}}),o.a.createElement(f.a,{type:"folder-add",id:"collect_"+r,onClick:function(){return a.handleCollect(s)}}),o.a.createElement(f.a,{type:"setting",onClick:function(){q.send("download-image",e)}})]},o.a.createElement(N,{title:"Author:  Jianing",description:t+"  Likes     "+l+"  Collects"})))}}]),t}(o.a.Component),G=function(e){var t=e.pics;return o.a.createElement(D.a,{grid:{gutter:16,column:2},dataSource:t,renderItem:function(e,t){return o.a.createElement(D.a.Item,null,o.a.createElement(F,{id:t,key:t,item:e}))}})},_=(window.require("electron").ipcRenderer,function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleCancel=function(){return e.setState({previewVisible:!1})},e.handlePreview=function(t){e.setState({previewImage:t.url||t.thumbUrl,previewVisible:!0})},e.handleChange=function(t){var a=t.fileList;return e.setState({fileList:a})},e.uploadImage=function(e){console.log(e);var t=new FileReader;t.readAsDataURL(e),t.onload=function(){var e=this;console.log(t.result),y()({url:"http://35.243.234.68:8000/upload",method:"post",data:{image:t.result},transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){e.props.history.push("/")}).catch(function(e){console.log(e)})}},e.state={posts:[],previewVisible:!1,previewImage:"",fileList:[{uid:"-1",name:"",status:"done",url:""}]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("http://35.243.234.68:8000/wallpapers/upload").then(function(t){console.log(t.data),e.setState({posts:t.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,n=e.fileList,r=o.a.createElement("div",null,o.a.createElement(f.a,{type:"plus"}),o.a.createElement("div",{className:"ant-upload-text"},"Upload"));return o.a.createElement("div",null,o.a.createElement(T.a,{action:this.uploadImage,accept:"image/*",listType:"picture-card",fileList:n,onPreview:this.handlePreview,onChange:this.handleChange},n.length<0?null:r),o.a.createElement(U.a,{visible:t,footer:null,onCancel:this.handleCancel},o.a.createElement("img",{alt:" ",style:{width:"100%"},src:a})),o.a.createElement(G,{pics:this.state.posts}))}}]),t}(o.a.Component)),A=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={posts:[]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("http://35.243.234.68:8000/wallpapers/likes").then(function(t){e.setState({posts:t.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(G,{pics:this.state.posts}))}}]),t}(o.a.Component),M=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={posts:[]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("http://35.243.234.68:8000/wallpapers/collections").then(function(t){e.setState({posts:t.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(G,{pics:this.state.posts}))}}]),t}(o.a.Component),V=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={posts:[]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("http://35.243.234.68:8000/wallpapers/index").then(function(t){console.log(t),console.log(t.data),e.setState({posts:t.data})}).catch(function(e){console.log(e)}),console.log(this.state.posts)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(G,{pics:this.state.posts}))}}]),t}(o.a.Component),B=(a(420),a(185)),H=(a(154),a(47)),J=H.a.Option,K=window.require("electron").ipcRenderer,W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={fre:"3",msr:"minute"},a.handleChange1=function(e){console.log("selected ".concat(e)),a.setState({fre:e})},a.handleChange2=function(e){console.log("selected ".concat(e)),a.setState({msr:e})},a.setPeriod=function(){K.send("change_period",a.state.fre,a.state.msr)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{marginTop:150}},o.a.createElement("h3",null," Set the frequency of wallpaper changing automatically:"),o.a.createElement("br",null),"Every",o.a.createElement(B.a,{min:1,max:100,defaultValue:3,onChange:this.handleChange1}),o.a.createElement(H.a,{defaultValue:"minutes",style:{width:120},onChange:this.handleChange2},o.a.createElement(J,{value:"seconds"},"seconds"),o.a.createElement(J,{value:"minutes"},"minutes"),o.a.createElement(J,{value:"hours"},"hours"),o.a.createElement(J,{value:"days"},"days"),o.a.createElement(J,{value:"weeks"},"weeks")),o.a.createElement(d.a,{type:"primary",onClick:this.setPeriod},"Set!"))}}]),t}(o.a.Component),z=R.a.Header,Q=R.a.Content,X=R.a.Footer,Y=R.a.Sider,Z=(I.a.SubMenu,h.a.Search,function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={collapsed:!1},a.onCollapse=function(e){console.log(e),a.setState({collapsed:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(x.a,null,o.a.createElement(R.a,{id:"index-layout"},o.a.createElement(Y,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0}},o.a.createElement("div",{className:"logo"}),o.a.createElement(I.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},o.a.createElement(I.a.Item,{key:"1"},o.a.createElement(f.a,{type:"home",theme:"outlined"}),o.a.createElement("span",{className:"nav-text"},"Home"),o.a.createElement(v.a,{to:"/index"})),o.a.createElement(I.a.Item,{key:"2"},o.a.createElement(f.a,{type:"cloud-upload",theme:"outlined"}),o.a.createElement("span",{className:"nav-text"},"Upload"),o.a.createElement(v.a,{to:"/index/upload"})),o.a.createElement(I.a.Item,{key:"3",id:"likes"},o.a.createElement(f.a,{type:"heart",theme:"outlined"}),o.a.createElement("span",{className:"nav-text"},"Likes"),o.a.createElement(v.a,{to:"/index/likes"})),o.a.createElement(I.a.Item,{key:"4",id:"collects"},o.a.createElement(f.a,{type:"folder",theme:"outlined"}),o.a.createElement("span",{className:"nav-text"},"Collection"),o.a.createElement(v.a,{to:"/index/collection"})),o.a.createElement(I.a.Item,{key:"5"},o.a.createElement(f.a,{type:"setting",theme:"outlined"}),o.a.createElement("span",{className:"nav-text"},"Setting"),o.a.createElement(v.a,{to:"/index/setting"})))),o.a.createElement(R.a,{style:{marginLeft:200}},o.a.createElement(z,{style:{background:"#fff",padding:0}},o.a.createElement("div",{style:{textAlign:"center"}})),o.a.createElement(Q,{style:{margin:"24px 16px 0",overflow:"initial"}},o.a.createElement("div",{style:{padding:24,background:"#fff",textAlign:"center",minHeight:660}},o.a.createElement(P.a,null,o.a.createElement(S.a,{exact:!0,path:"/index",component:V}),o.a.createElement(S.a,{path:"/index/upload",component:_}),o.a.createElement(S.a,{path:"/index/likes",component:A}),o.a.createElement(S.a,{path:"/index/collection",component:M}),o.a.createElement(S.a,{path:"/index/setting",component:W})))),o.a.createElement(X,{style:{textAlign:"center"}},"Wallpaper Workshop \xa92018 Created by KetchUp"))))}}]),t}(o.a.Component)),$=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(x.a,null,o.a.createElement(P.a,null,o.a.createElement(S.a,{exact:!0,path:"/",component:C}),o.a.createElement(S.a,{path:"/index",component:Z}),o.a.createElement(S.a,{exact:!0,path:"/register",component:j})))}}]),t}(o.a.Component);l.a.render(o.a.createElement($,null),document.getElementById("root"))}},[[187,2,1]]]);
//# sourceMappingURL=main.4fe595c9.chunk.js.map